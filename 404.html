<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting...</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script>
      (function() {
        var path = window.location.pathname;
        var base = '/decentralized_decision_frontend/';
        var hash = window.location.hash || '#/';
        // 如果路径不是仓库子路径开头，直接跳回根
        if (!path.startsWith(base)) {
          window.location.replace(base + '#/');
          return;
        }
        // 将子路径映射到哈希路由
        var sub = path.slice(base.length);
        if (!hash || hash === '#/' || hash === '#') {
          if (sub && sub !== '' && sub !== 'index.html') {
            // 去掉末尾斜杠
            if (sub.endsWith('/')) sub = sub.slice(0, -1);
            window.location.replace(base + '#/' + sub);
            return;
          }
        }
        window.location.replace(base + '#/');
      })();
    </script>
  </head>
  <body>
    Redirecting...
  </body>
  </html>
